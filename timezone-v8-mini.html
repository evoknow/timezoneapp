<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Time Zone Display</title><style>body{margin:0;padding:20px;font-family:Arial,sans-serif;background:linear-gradient(135deg,#2d3436 0,#636e72 100%);min-height:90vh;display:flex;align-items:center;justify-content:center;transition:all .5s ease}body.light-mode{background:linear-gradient(135deg,#74b9ff 0,#0984e3 100%)}body.blue-mode{background:linear-gradient(135deg,#1e3c72 0,#2a5298 100%)}.container{background:rgba(0,0,0,.2);backdrop-filter:blur(10px);border-radius:20px;padding:40px;box-shadow:0 8px 32px rgba(0,0,0,.5);border:1px solid rgba(255,255,255,.1);text-align:center;max-width:500px;width:100%;transition:all .5s ease}.light-mode .container{background:rgba(255,255,255,.25);box-shadow:0 8px 32px rgba(0,0,0,.15);border:1px solid rgba(255,255,255,.3)}.blue-mode .container{background:rgba(255,255,255,.1);box-shadow:0 8px 32px rgba(0,0,0,.3);border:1px solid rgba(255,255,255,.2)}.theme-toggle{position:absolute;top:20px;right:20px;background:rgba(255,255,255,.2);border:1px solid rgba(255,255,255,.3);border-radius:25px;padding:10px 15px;color:#fff;font-weight:700;font-size:18px;cursor:pointer;transition:all .3s ease;backdrop-filter:blur(10px)}.theme-toggle:hover{background:rgba(255,255,255,.3);transform:scale(1.1)}.header-buttons{display:flex;justify-content:center;gap:15px;margin-bottom:30px}.header-btn{background:rgba(255,255,255,.2);border:1px solid rgba(255,255,255,.3);border-radius:25px;padding:10px 20px;color:#fff;font-weight:700;font-size:14px;cursor:pointer;transition:all .3s ease;text-transform:uppercase;letter-spacing:1px}.header-btn:hover{background:rgba(255,255,255,.3);transform:translateY(-2px);box-shadow:0 4px 12px rgba(255,255,255,.2)}.header-btn:active{transform:translateY(0)}.top-zones-container{display:flex;gap:20px;margin-bottom:30px}.top-zone{flex:1;padding:15px;background:rgba(0,0,0,.2);border-radius:10px;border:1px solid rgba(255,255,255,.1);transition:all .5s ease}.light-mode .top-zone{background:rgba(255,255,255,.2);border:1px solid rgba(255,255,255,.4)}.blue-mode .top-zone{background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2)}.main-zone{margin:30px 0;padding:25px;background:rgba(0,0,0,.2);border-radius:15px;border:2px solid rgba(255,255,255,.2);display:flex;align-items:center;justify-content:space-between;transition:all .5s ease}.light-mode .main-zone{background:rgba(255,255,255,.3);border:2px solid rgba(255,255,255,.5)}.blue-mode .main-zone{background:rgba(255,255,255,.15);border:2px solid rgba(255,255,255,.3)}.time-controls{text-align:center;flex-grow:1}.arrow-btn{background:rgba(255,255,255,.2);border:1px solid rgba(255,255,255,.3);border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:18px;font-weight:700;cursor:pointer;transition:all .3s ease;backdrop-filter:blur(5px)}.arrow-btn:hover{background:rgba(255,255,255,.3);transform:scale(1.1)}.arrow-btn:active{transform:scale(.95)}.bottom-zones{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-top:30px;margin-bottom:80px}.bottom-zone{padding:15px;background:rgba(0,0,0,.2);border-radius:10px;border:1px solid rgba(255,255,255,.1);transition:all .5s ease;cursor:grab}.bottom-zone:active{cursor:grabbing}.bottom-zone.dragging{opacity:.7;transform:scale(1.05)}.light-mode .bottom-zone{background:rgba(255,255,255,.2);border:1px solid rgba(255,255,255,.4)}.blue-mode .bottom-zone{background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2)}.timezone-label{font-size:16px;font-weight:700;color:#fff;margin-bottom:5px}.time-display{font-size:24px;font-weight:700;color:#fff;margin:10px 0}.time-display.clickable{cursor:pointer;border:2px solid transparent;border-radius:8px;padding:5px 10px;transition:all .3s ease}.time-display.clickable:hover{border-color:rgba(255,255,255,.3);background:rgba(255,255,255,.1)}.country-name{font-size:14px;color:rgba(255,255,255,.8)}.bottom-zone .time-display{font-size:18px}.footer-container{position:fixed;bottom:10px;left:10px;right:10px;display:flex;flex-direction:column;align-items:center;gap:5px;padding-top:10px}.copyright{font-size:12px;color:rgba(255,255,255,.5);text-decoration:none}.copyright a{color:rgba(255,255,255,.7);text-decoration:none;transition:color .3s ease}.copyright a:hover{color:rgba(255,255,255,.9)}.usage-stats{font-size:12px;color:rgba(255,255,255,.5);display:flex;gap:15px}.time-input{background:rgba(255,255,255,.9);border:2px solid rgba(255,255,255,.3);border-radius:8px;padding:5px 10px;font-size:24px;font-weight:700;color:#333;text-align:center;width:150px;margin:10px 0}.time-input:focus{outline:0;border-color:rgba(255,255,255,.7);box-shadow:0 0 10px rgba(255,255,255,.3)}.share-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;align-items:center;justify-content:center;z-index:1000;opacity:0;visibility:hidden;transition:all .3s ease}.share-overlay.visible{opacity:1;visibility:visible}.share-content{background:rgba(255,255,255,.1);backdrop-filter:blur(20px);border-radius:20px;padding:30px;text-align:center;border:1px solid rgba(255,255,255,.2);max-width:400px;width:90%}.share-title{font-size:24px;font-weight:700;color:#fff;margin-bottom:20px}.share-btn{background:rgba(255,255,255,.2);border:1px solid rgba(255,255,255,.3);border-radius:25px;padding:15px 30px;color:#fff;font-weight:700;font-size:16px;cursor:pointer;transition:all .3s ease;margin:10px;display:inline-block;text-decoration:none}.share-btn:hover{background:rgba(255,255,255,.3);transform:translateY(-2px);box-shadow:0 4px 12px rgba(255,255,255,.2)}.share-close{position:absolute;top:10px;right:15px;background:0 0;border:none;color:#fff;font-size:24px;cursor:pointer;transition:all .3s ease}.share-close:hover{transform:scale(1.2)}.help-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;align-items:center;justify-content:center;z-index:1000;opacity:0;visibility:hidden;transition:all .3s ease}.help-overlay.visible{opacity:1;visibility:visible}.help-content{background:rgba(255,255,255,.1);backdrop-filter:blur(20px);border-radius:20px;padding:30px;text-align:left;border:1px solid rgba(255,255,255,.2);max-width:600px;width:90%;max-height:80vh;overflow-y:auto}.help-title{font-size:24px;font-weight:700;color:#fff;margin-bottom:20px;text-align:center}.help-section{margin-bottom:20px}.help-section h3{color:#fff;font-size:18px;margin-bottom:10px}.help-section p{color:rgba(255,255,255,.8);line-height:1.6;margin-bottom:8px}.help-close{position:absolute;top:10px;right:15px;background:0 0;border:none;color:#fff;font-size:24px;cursor:pointer;transition:all .3s ease}.help-close:hover{transform:scale(1.2)}.settings-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;align-items:center;justify-content:center;z-index:1000;opacity:0;visibility:hidden;transition:all .3s ease}.settings-overlay.visible{opacity:1;visibility:visible}.settings-content{background:rgba(255,255,255,.1);backdrop-filter:blur(20px);border-radius:20px;padding:30px;text-align:center;border:1px solid rgba(255,255,255,.2);max-width:500px;width:90%;max-height:80vh;overflow-y:auto}.settings-title{font-size:24px;font-weight:700;color:#fff;margin-bottom:20px}.settings-close{position:absolute;top:10px;right:15px;background:0 0;border:none;color:#fff;font-size:24px;cursor:pointer;transition:all .3s ease}.settings-close:hover{transform:scale(1.2)}.settings-countries-list{margin-top:20px}.settings-countries-list h3{color:#fff;font-size:18px;margin-bottom:15px}.settings-country-item{background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2);border-radius:10px;padding:10px;margin-bottom:10px;display:flex;justify-content:space-between;align-items:center;color:#fff;transition:all .3s ease;cursor:grab}.settings-country-item:active{cursor:grabbing}.settings-country-item.dragging{opacity:.7;transform:scale(1.05)}.settings-country-item:hover{background:rgba(255,255,255,.2)}.settings-country-name{display:flex;align-items:center;gap:10px}.settings-country-actions{display:flex;gap:10px}.settings-btn{background:rgba(255,255,255,.2);border:1px solid rgba(255,255,255,.3);border-radius:15px;padding:5px 10px;color:#fff;font-size:12px;cursor:pointer;transition:all .3s ease}.settings-btn:hover{background:rgba(255,255,255,.3)}.settings-btn.remove{background:rgba(255,0,0,.3);border-color:rgba(255,0,0,.5)}.settings-btn.remove:hover{background:rgba(255,0,0,.5)}.settings-btn.add{background:rgba(0,255,0,.3);border-color:rgba(0,255,0,.5)}.settings-btn.add:hover{background:rgba(0,255,0,.5)}.settings-available-countries{margin-top:30px}.settings-available-item{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);border-radius:10px;padding:10px;margin-bottom:5px;display:flex;justify-content:space-between;align-items:center;color:#fff;transition:all .3s ease}.settings-available-item:hover{background:rgba(255,255,255,.1)}.settings-reset-btn{background:rgba(255,255,255,.2);border:1px solid rgba(255,255,255,.3);border-radius:25px;padding:10px 20px;color:#fff;font-weight:700;cursor:pointer;transition:all .3s ease;margin-top:20px}.settings-reset-btn:hover{background:rgba(255,255,255,.3)}.drag-handle{cursor:grab;color:rgba(255,255,255,.6);font-size:14px}.drag-handle:active{cursor:grabbing}.drag-placeholder{background:rgba(255,255,255,.1);border:2px dashed rgba(255,255,255,.3);border-radius:10px;padding:10px;margin-bottom:10px;text-align:center;color:rgba(255,255,255,.6)}.settings-divider{height:1px;background:rgba(255,255,255,.2);margin:20px 0}.settings-section-title{color:#fff;font-size:16px;margin-bottom:10px;text-align:left;padding-left:5px;border-left:3px solid rgba(255,255,255,.3);padding-left:10px}.settings-country-item:last-child{border-bottom:1px solid rgba(255,255,255,.2)}@media (max-width:768px){.theme-toggle{position:fixed;top:15px;left:50%;transform:translateX(-50%);background:rgba(255,255,255,.3);border:2px solid rgba(255,255,255,.4);border-radius:50%;padding:8px;color:#fff;font-weight:700;font-size:14px;cursor:pointer;transition:all .3s ease;backdrop-filter:blur(10px);z-index:1000;width:24px;height:24px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px rgba(0,0,0,.3)}.top-zones-container{flex-direction:row;gap:15px}.container{padding:15px;margin:0;max-width:100%;width:calc(100% - 20px);padding-top:15px}.header-buttons{display:flex;flex-wrap:nowrap;gap:8px;margin-top:15px;margin-bottom:20px}.header-btn{padding:8px 12px;font-size:11px;flex:1;min-width:70px}.main-zone{flex-direction:row;gap:15px;padding:20px}.arrow-btn{width:50px;height:50px;font-size:20px}.time-display{font-size:20px}.bottom-zones{grid-template-columns:repeat(2,1fr);gap:15px}.bottom-zone{padding:12px}.bottom-zone .time-display{font-size:16px}.timezone-label{font-size:14px}.country-name{font-size:12px}.help-content,.settings-content,.share-content{padding:20px;margin:10px}.help-title,.settings-title,.share-title{font-size:20px}.time-input{font-size:20px;width:120px}}@media (max-width:480px){.bottom-zones{grid-template-columns:repeat(2,1fr)}.header-buttons{flex-wrap:nowrap;gap:6px}.header-btn{padding:8px 10px;font-size:10px;flex:1;min-width:60px}.main-zone{flex-direction:row;padding:15px}.arrow-btn{width:45px;height:45px;font-size:18px}.time-display{font-size:18px}.time-input{font-size:18px;width:100px}.settings-country-item{padding:8px}.settings-country-name{gap:5px}}.notification{position:fixed;top:20px;left:50%;transform:translateX(-50%);background:rgba(255,255,255,.95);color:#2d3436;padding:15px 25px;border-radius:10px;box-shadow:0 4px 20px rgba(0,0,0,.2);font-size:16px;font-weight:500;z-index:10001;opacity:0;visibility:hidden;transition:all .3s cubic-bezier(.68, -.55, .265, 1.55)}.notification.show{opacity:1;visibility:visible;transform:translateX(-50%) translateY(0)}.notification.hide{transform:translateX(-50%) translateY(-20px)}.notification.error{background:rgba(231,76,60,.95);color:#fff}body.light-mode .notification{background:rgba(52,73,94,.95);color:#fff}body.blue-mode .notification{background:rgba(41,128,185,.95);color:#fff}@media (pointer:coarse){.bottom-zone,.settings-country-item{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;touch-action:none}.bottom-zone.dragging,.settings-country-item.dragging{opacity:.9;transform:scale(1.05);box-shadow:0 10px 30px rgba(0,0,0,.3)}}</style></head><body><div class=theme-toggle onclick=toggleTheme()>üåõ</div><div class=container><div class=header-buttons><div class=header-btn onclick=shareOnTwitter()>SHARE</div><div class=header-btn onclick=resetTime()>RESET</div><div class=header-btn onclick=showSettings()>‚öôÔ∏è</div><div class=header-btn onclick=showHelp()>HELP</div></div><div class=top-zones-container><div class=top-zone><div class=timezone-label id=top1-label>üá∫üá∏ EDT</div><div class=time-display id=top1-time>9:00 PM</div><div class=country-name id=top1-date>Wed, Jul 9</div></div><div class=top-zone><div class=timezone-label id=top2-label>üá∫üá∏ CDT</div><div class=time-display id=top2-time>8:00 PM</div><div class=country-name id=top2-date>Wed, Jul 9</div></div></div><div class=main-zone><div class=arrow-btn onclick=decrementTime()>‚àí</div><div class=time-controls><div class=timezone-label id=main-label>üá∫üá∏ PDT</div><div class=time-display id=main-time onclick=editTime(this)>6:00 PM</div><div class=country-name id=main-date>Wed, Jul 9</div></div><div class=arrow-btn onclick=incrementTime()>+</div></div><div class=bottom-zones id=bottom-zones></div><div class=footer-container><div class=copyright>Copyright ¬© <span id=current-year></span> <a href=https://evoknow.com target=_blank>EVOKNOW</a> | <a href=https://opensource.org/licenses/MIT target=_blank>MIT License</a> | V8 | <a href=https://github.com/evoknow/timezoneapp target=_blank style=color:inherit;text-decoration:none>GIT REPO</a></div><div class=usage-stats id=usage-stats>Loading usage stats...</div></div></div><div class=notification id=notification></div><div class=help-overlay id=help-overlay><div class=help-content><button class=help-close onclick=closeHelp()>√ó</button><div class=help-title>‚ÑπÔ∏è How to Use</div><div class=help-section><h3>üïê Time Controls</h3><p>‚Ä¢ Click or tap on main time to edit directly</p><p>‚Ä¢ Use plus (+) and minus (‚àí) buttons to move time to nearest 5-min mark</p></div><div class=help-section><h3>‚öôÔ∏è Country Customization</h3><p>‚Ä¢ Click the ‚öôÔ∏è settings button to customize bottom countries</p><p>‚Ä¢ Drag and drop to reorder countries</p><p>‚Ä¢ Add or remove countries from your selection</p><p>‚Ä¢ Changes are saved automatically</p></div><div class=help-section><h3>üì± URL Sharing</h3><p>‚Ä¢ Share specific times with URL parameters</p><p>‚Ä¢ Example 1: ?time=7am <a href="?time=7am" style=color:#4caf50;text-decoration:none;cursor:pointer;font-weight:600 onclick='return window.location.href="?time=7am",closeHelp(),!1'>try link</a></p><p>‚Ä¢ Example 2: ?date=12-25-2025&time=6:30pm <a href="?date=12-25-2025&time=6:30pm" style=color:#4caf50;text-decoration:none;cursor:pointer;font-weight:600 onclick='return window.location.href="?date=12-25-2025&time=6:30pm",closeHelp(),!1'>try link</a></p></div><div class=help-section><h3>üé® Themes</h3><p>‚Ä¢ Click the üåõ button to cycle through themes</p><p>‚Ä¢ Dark ‚Üí Light ‚Üí Blue ‚Üí back to Dark</p></div></div></div><div class=settings-overlay id=settings-overlay><div class=settings-content><button class=settings-close onclick=closeSettings()>√ó</button><div class=settings-title>‚öôÔ∏è Customize Bottom Countries</div><p style=text-align:center;color:rgba(255,255,255,.8);margin-bottom:20px>The top two US timezones and your detected main timezone are fixed. Changes are saved automatically.</p><div class=settings-countries-list><h3>Bottom Countries (drag to reorder)</h3><div id=selected-countries-list></div><div class=settings-divider></div><h3>Available Countries</h3><div id=available-countries-list></div><button class=settings-reset-btn onclick=resetToDefaults()>Reset to Defaults</button></div></div></div><script src=https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js></script><script>const COUNTRIES=[{code:"BD",name:"Bangladesh",flag:"üáßüá©",offset:6,label:"BD"},{code:"GB",name:"United Kingdom",flag:"üá¨üáß",offset:0,label:"GB"},{code:"DE",name:"Germany",flag:"üá©üá™",offset:1,label:"DE"},{code:"ZA",name:"South Africa",flag:"üáøüá¶",offset:2,label:"ZA"},{code:"CA",name:"Canada (EDT)",flag:"üá®üá¶",offset:-4,label:"CA"},{code:"AU",name:"Australia (AEST)",flag:"üá¶üá∫",offset:10,label:"AU"},{code:"FR",name:"France",flag:"üá´üá∑",offset:1,label:"FR"},{code:"IT",name:"Italy",flag:"üáÆüáπ",offset:1,label:"IT"},{code:"ES",name:"Spain",flag:"üá™üá∏",offset:1,label:"ES"},{code:"NL",name:"Netherlands",flag:"üá≥üá±",offset:1,label:"NL"},{code:"SE",name:"Sweden",flag:"üá∏üá™",offset:1,label:"SE"},{code:"NO",name:"Norway",flag:"üá≥üá¥",offset:1,label:"NO"},{code:"DK",name:"Denmark",flag:"üá©üá∞",offset:1,label:"DK"},{code:"FI",name:"Finland",flag:"üá´üáÆ",offset:2,label:"FI"},{code:"PL",name:"Poland",flag:"üáµüá±",offset:1,label:"PL"},{code:"CZ",name:"Czech Republic",flag:"üá®üáø",offset:1,label:"CZ"},{code:"HU",name:"Hungary",flag:"üá≠üá∫",offset:1,label:"HU"},{code:"RO",name:"Romania",flag:"üá∑üá¥",offset:2,label:"RO"},{code:"BG",name:"Bulgaria",flag:"üáßüá¨",offset:2,label:"BG"},{code:"GR",name:"Greece",flag:"üá¨üá∑",offset:2,label:"GR"},{code:"TR",name:"Turkey",flag:"üáπüá∑",offset:3,label:"TR"},{code:"RU",name:"Russia (MSK)",flag:"üá∑üá∫",offset:3,label:"RU"},{code:"UA",name:"Ukraine",flag:"üá∫üá¶",offset:2,label:"UA"},{code:"EE",name:"Estonia",flag:"üá™üá™",offset:2,label:"EE"},{code:"LV",name:"Latvia",flag:"üá±üáª",offset:2,label:"LV"},{code:"LT",name:"Lithuania",flag:"üá±üáπ",offset:2,label:"LT"},{code:"BY",name:"Belarus",flag:"üáßüáæ",offset:3,label:"BY"},{code:"MD",name:"Moldova",flag:"üá≤üá©",offset:2,label:"MD"},{code:"SK",name:"Slovakia",flag:"üá∏üá∞",offset:1,label:"SK"},{code:"SI",name:"Slovenia",flag:"üá∏üáÆ",offset:1,label:"SI"},{code:"HR",name:"Croatia",flag:"üá≠üá∑",offset:1,label:"HR"},{code:"RS",name:"Serbia",flag:"üá∑üá∏",offset:1,label:"RS"},{code:"BA",name:"Bosnia and Herzegovina",flag:"üáßüá¶",offset:1,label:"BA"},{code:"MK",name:"North Macedonia",flag:"üá≤üá∞",offset:1,label:"MK"},{code:"AL",name:"Albania",flag:"üá¶üá±",offset:1,label:"AL"},{code:"ME",name:"Montenegro",flag:"üá≤üá™",offset:1,label:"ME"},{code:"XK",name:"Kosovo",flag:"üáΩüá∞",offset:1,label:"XK"},{code:"JP",name:"Japan",flag:"üáØüáµ",offset:9,label:"JP"},{code:"KR",name:"South Korea",flag:"üá∞üá∑",offset:9,label:"KR"},{code:"CN",name:"China",flag:"üá®üá≥",offset:8,label:"CN"},{code:"HK",name:"Hong Kong",flag:"üá≠üá∞",offset:8,label:"HK"},{code:"SG",name:"Singapore",flag:"üá∏üá¨",offset:8,label:"SG"},{code:"MY",name:"Malaysia",flag:"üá≤üáæ",offset:8,label:"MY"},{code:"TH",name:"Thailand",flag:"üáπüá≠",offset:7,label:"TH"},{code:"VN",name:"Vietnam",flag:"üáªüá≥",offset:7,label:"VN"},{code:"PH",name:"Philippines",flag:"üáµüá≠",offset:8,label:"PH"},{code:"ID",name:"Indonesia (WIB)",flag:"üáÆüá©",offset:7,label:"ID"},{code:"IN",name:"India",flag:"üáÆüá≥",offset:5.5,label:"IN"},{code:"PK",name:"Pakistan",flag:"üáµüá∞",offset:5,label:"PK"},{code:"LK",name:"Sri Lanka",flag:"üá±üá∞",offset:5.5,label:"LK"},{code:"NP",name:"Nepal",flag:"üá≥üáµ",offset:5.75,label:"NP"},{code:"MM",name:"Myanmar",flag:"üá≤üá≤",offset:6.5,label:"MM"},{code:"KH",name:"Cambodia",flag:"üá∞üá≠",offset:7,label:"KH"},{code:"LA",name:"Laos",flag:"üá±üá¶",offset:7,label:"LA"},{code:"BN",name:"Brunei",flag:"üáßüá≥",offset:8,label:"BN"},{code:"TW",name:"Taiwan",flag:"üáπüáº",offset:8,label:"TW"},{code:"MN",name:"Mongolia",flag:"üá≤üá≥",offset:8,label:"MN"},{code:"KZ",name:"Kazakhstan",flag:"üá∞üáø",offset:6,label:"KZ"},{code:"UZ",name:"Uzbekistan",flag:"üá∫üáø",offset:5,label:"UZ"},{code:"TM",name:"Turkmenistan",flag:"üáπüá≤",offset:5,label:"TM"},{code:"TJ",name:"Tajikistan",flag:"üáπüáØ",offset:5,label:"TJ"},{code:"KG",name:"Kyrgyzstan",flag:"üá∞üá¨",offset:6,label:"KG"},{code:"AF",name:"Afghanistan",flag:"üá¶üá´",offset:4.5,label:"AF"},{code:"IR",name:"Iran",flag:"üáÆüá∑",offset:3.5,label:"IR"},{code:"IQ",name:"Iraq",flag:"üáÆüá∂",offset:3,label:"IQ"},{code:"SY",name:"Syria",flag:"üá∏üáæ",offset:3,label:"SY"},{code:"LB",name:"Lebanon",flag:"üá±üáß",offset:2,label:"LB"},{code:"JO",name:"Jordan",flag:"üáØüá¥",offset:3,label:"JO"},{code:"IL",name:"Israel",flag:"üáÆüá±",offset:2,label:"IL"},{code:"PS",name:"Palestine",flag:"üáµüá∏",offset:2,label:"PS"},{code:"SA",name:"Saudi Arabia",flag:"üá∏üá¶",offset:3,label:"SA"},{code:"AE",name:"UAE",flag:"üá¶üá™",offset:4,label:"AE"},{code:"QA",name:"Qatar",flag:"üá∂üá¶",offset:3,label:"QA"},{code:"BH",name:"Bahrain",flag:"üáßüá≠",offset:3,label:"BH"},{code:"KW",name:"Kuwait",flag:"üá∞üáº",offset:3,label:"KW"},{code:"OM",name:"Oman",flag:"üá¥üá≤",offset:4,label:"OM"},{code:"YE",name:"Yemen",flag:"üáæüá™",offset:3,label:"YE"},{code:"EG",name:"Egypt",flag:"üá™üá¨",offset:2,label:"EG"},{code:"LY",name:"Libya",flag:"üá±üáæ",offset:2,label:"LY"},{code:"TN",name:"Tunisia",flag:"üáπüá≥",offset:1,label:"TN"},{code:"DZ",name:"Algeria",flag:"üá©üáø",offset:1,label:"DZ"},{code:"MA",name:"Morocco",flag:"üá≤üá¶",offset:1,label:"MA"},{code:"SD",name:"Sudan",flag:"üá∏üá©",offset:2,label:"SD"},{code:"ET",name:"Ethiopia",flag:"üá™üáπ",offset:3,label:"ET"},{code:"KE",name:"Kenya",flag:"üá∞üá™",offset:3,label:"KE"},{code:"UG",name:"Uganda",flag:"üá∫üá¨",offset:3,label:"UG"},{code:"TZ",name:"Tanzania",flag:"üáπüáø",offset:3,label:"TZ"},{code:"RW",name:"Rwanda",flag:"üá∑üáº",offset:2,label:"RW"},{code:"BI",name:"Burundi",flag:"üáßüáÆ",offset:2,label:"BI"},{code:"DJ",name:"Djibouti",flag:"üá©üáØ",offset:3,label:"DJ"},{code:"SO",name:"Somalia",flag:"üá∏üá¥",offset:3,label:"SO"},{code:"ER",name:"Eritrea",flag:"üá™üá∑",offset:3,label:"ER"},{code:"SS",name:"South Sudan",flag:"üá∏üá∏",offset:3,label:"SS"},{code:"CF",name:"Central African Republic",flag:"üá®üá´",offset:1,label:"CF"},{code:"CD",name:"DR Congo",flag:"üá®üá©",offset:1,label:"CD"},{code:"CG",name:"Congo",flag:"üá®üá¨",offset:1,label:"CG"},{code:"CM",name:"Cameroon",flag:"üá®üá≤",offset:1,label:"CM"},{code:"TD",name:"Chad",flag:"üáπüá©",offset:1,label:"TD"},{code:"NE",name:"Niger",flag:"üá≥üá™",offset:1,label:"NE"},{code:"NG",name:"Nigeria",flag:"üá≥üá¨",offset:1,label:"NG"},{code:"BJ",name:"Benin",flag:"üáßüáØ",offset:1,label:"BJ"},{code:"TG",name:"Togo",flag:"üáπüá¨",offset:0,label:"TG"},{code:"GH",name:"Ghana",flag:"üá¨üá≠",offset:0,label:"GH"},{code:"CI",name:"C√¥te d'Ivoire",flag:"üá®üáÆ",offset:0,label:"CI"},{code:"LR",name:"Liberia",flag:"üá±üá∑",offset:0,label:"LR"},{code:"SL",name:"Sierra Leone",flag:"üá∏üá±",offset:0,label:"SL"},{code:"GN",name:"Guinea",flag:"üá¨üá≥",offset:0,label:"GN"},{code:"GW",name:"Guinea-Bissau",flag:"üá¨üáº",offset:0,label:"GW"},{code:"SN",name:"Senegal",flag:"üá∏üá≥",offset:0,label:"SN"},{code:"GM",name:"Gambia",flag:"üá¨üá≤",offset:0,label:"GM"},{code:"ML",name:"Mali",flag:"üá≤üá±",offset:0,label:"ML"},{code:"BF",name:"Burkina Faso",flag:"üáßüá´",offset:0,label:"BF"},{code:"MR",name:"Mauritania",flag:"üá≤üá∑",offset:0,label:"MR"},{code:"NZ",name:"New Zealand",flag:"üá≥üáø",offset:12,label:"NZ"},{code:"FJ",name:"Fiji",flag:"üá´üáØ",offset:12,label:"FJ"},{code:"TO",name:"Tonga",flag:"üáπüá¥",offset:13,label:"TO"},{code:"WS",name:"Samoa",flag:"üáºüá∏",offset:13,label:"WS"},{code:"VU",name:"Vanuatu",flag:"üáªüá∫",offset:11,label:"VU"},{code:"SB",name:"Solomon Islands",flag:"üá∏üáß",offset:11,label:"SB"},{code:"PG",name:"Papua New Guinea",flag:"üáµüá¨",offset:10,label:"PG"},{code:"MX",name:"Mexico (CST)",flag:"üá≤üáΩ",offset:-6,label:"MX"},{code:"GT",name:"Guatemala",flag:"üá¨üáπ",offset:-6,label:"GT"},{code:"BZ",name:"Belize",flag:"üáßüáø",offset:-6,label:"BZ"},{code:"SV",name:"El Salvador",flag:"üá∏üáª",offset:-6,label:"SV"},{code:"HN",name:"Honduras",flag:"üá≠üá≥",offset:-6,label:"HN"},{code:"NI",name:"Nicaragua",flag:"üá≥üáÆ",offset:-6,label:"NI"},{code:"CR",name:"Costa Rica",flag:"üá®üá∑",offset:-6,label:"CR"},{code:"PA",name:"Panama",flag:"üáµüá¶",offset:-5,label:"PA"},{code:"CO",name:"Colombia",flag:"üá®üá¥",offset:-5,label:"CO"},{code:"VE",name:"Venezuela",flag:"üáªüá™",offset:-4,label:"VE"},{code:"GY",name:"Guyana",flag:"üá¨üáæ",offset:-4,label:"GY"},{code:"SR",name:"Suriname",flag:"üá∏üá∑",offset:-3,label:"SR"},{code:"BR",name:"Brazil (BRT)",flag:"üáßüá∑",offset:-3,label:"BR"},{code:"EC",name:"Ecuador",flag:"üá™üá®",offset:-5,label:"EC"},{code:"PE",name:"Peru",flag:"üáµüá™",offset:-5,label:"PE"},{code:"BO",name:"Bolivia",flag:"üáßüá¥",offset:-4,label:"BO"},{code:"PY",name:"Paraguay",flag:"üáµüáæ",offset:-3,label:"PY"},{code:"UY",name:"Uruguay",flag:"üá∫üáæ",offset:-3,label:"UY"}],US_TIMEZONES={EDT:{code:"US-EDT",name:"USA (EDT)",flag:"üá∫üá∏",offset:-4,label:"EDT",region:"eastern"},CDT:{code:"US-CDT",name:"USA (CDT)",flag:"üá∫üá∏",offset:-5,label:"CDT",region:"central"},PDT:{code:"US-PDT",name:"USA (PDT)",flag:"üá∫üá∏",offset:-7,label:"PDT",region:"pacific"},EST:{code:"US-EST",name:"USA (EST)",flag:"üá∫üá∏",offset:-5,label:"EST",region:"eastern"},CST:{code:"US-CST",name:"USA (CST)",flag:"üá∫üá∏",offset:-6,label:"CST",region:"central"},PST:{code:"US-PST",name:"USA (PST)",flag:"üá∫üá∏",offset:-8,label:"PST",region:"pacific"}};function detectUserTimezone(){const e=new Date,t=-e.getTimezoneOffset()/60;if(-4===t)return"EDT";if(-5===t){const t=e.getMonth();return t>=2&&t<=10?"CDT":"EST"}if(-6===t)return"CST";if(-7===t)return"PDT";if(-8===t)return"PST";const a=e.getMonth();return a>=2&&a<=10?"PDT":"PST"}function getOtherUSTimezones(e){const t=US_TIMEZONES[e].region,a=(new Date).getMonth(),n=a>=2&&a<=10;return["eastern","central","pacific"].filter(e=>e!==t).map(e=>"eastern"===e?n?"EDT":"EST":"central"===e?n?"CDT":"CST":"pacific"===e?n?"PDT":"PST":void 0)}const userTimezone=detectUserTimezone(),otherUSTimezones=getOtherUSTimezones(userTimezone),FIXED_TIMEZONES={MAIN:US_TIMEZONES[userTimezone],TOP1:US_TIMEZONES[otherUSTimezones[0]],TOP2:US_TIMEZONES[otherUSTimezones[1]]},DEFAULT_BOTTOM_COUNTRIES=["BD","GB","DE","ZA","CA","AU"];let autoUpdateTimer,selectedBottomCountries=[],currentTheme="dark",sessionStartTime=Date.now(),totalActiveTime=0,isVisible=!0,isLiveMode=!0,draggedElement=null,draggedIndex=-1,isSettingsDragging=!1,touchItem=null,touchOffset={x:0,y:0},placeholder=null;function initializeUsageTracking(){let e=parseInt(localStorage.getItem("timezone-page-loads")||"0");e++,localStorage.setItem("timezone-page-loads",e.toString()),totalActiveTime=parseInt(localStorage.getItem("timezone-total-time")||"0"),console.log("Usage tracking initialized. Page loads:",e,"Total time:",totalActiveTime),document.addEventListener("visibilitychange",handleVisibilityChange),setInterval(updateUsageStats,1e3),window.addEventListener("beforeunload",saveUsageStats)}function handleVisibilityChange(){isVisible=!document.hidden,console.log("Visibility changed. Visible:",isVisible)}function updateUsageStats(){isVisible&&(totalActiveTime++,totalActiveTime%10==0&&displayUsageStats())}function displayUsageStats(){const e=parseInt(localStorage.getItem("timezone-page-loads")||"0"),t=Math.floor(totalActiveTime/3600),a=Math.floor(totalActiveTime%3600/60),n=totalActiveTime%60;let o="";o=t>0?`${t}h ${a}m ${n}s`:a>0?`${a}m ${n}s`:`${n}s`;const l=document.getElementById("usage-stats");l&&(l.innerHTML=`üìä Session: ${o} | üìà Page loads: ${e}`)}function saveUsageStats(){localStorage.setItem("timezone-total-time",totalActiveTime.toString()),console.log("Usage stats saved. Total time:",totalActiveTime)}function toggleTheme(){const e=document.body,t=document.querySelector(".theme-toggle");"dark"===currentTheme?(e.className="light-mode",t.textContent="‚òÄÔ∏è",currentTheme="light"):"light"===currentTheme?(e.className="blue-mode",t.textContent="üîµ",currentTheme="blue"):(e.className="",t.textContent="üåõ",currentTheme="dark"),localStorage.setItem("theme",currentTheme),console.log("Theme changed to:",currentTheme)}function loadTheme(){const e=localStorage.getItem("theme");if(e){currentTheme=e;const t=document.body,a=document.querySelector(".theme-toggle");"light"===currentTheme?(t.className="light-mode",a.textContent="‚òÄÔ∏è"):"blue"===currentTheme?(t.className="blue-mode",a.textContent="üîµ"):(t.className="",a.textContent="üåõ")}}function shareOnTwitter(){console.log("Share function called, current theme:",currentTheme),showNotification("üì∏ Creating screenshot...",!1);const e=document.body,t=document.querySelector(".container"),a=e.className,n=t.style.cssText;switch(currentTheme){case"light":e.className="light-mode";break;case"blue":e.className="blue-mode";break;default:e.className=""}t.style.background="transparent",t.style.border="none",t.style.boxShadow="none",t.style.backdropFilter="none",t.offsetHeight,console.log("Applied theme, capturing container..."),html2canvas(t,{useCORS:!0,allowTaint:!0,scale:2,logging:!1,backgroundColor:"light"===currentTheme?"#74b9ff":"blue"===currentTheme?"#1e3c72":"#2d3436"}).then(o=>{e.className=a,t.style.cssText=n,console.log("Canvas captured, theme restored"),o.toBlob(function(e){navigator.clipboard.write([new ClipboardItem({"image/png":e})]).then(()=>{console.log("Image copied to clipboard with theme:",currentTheme);if(confirm("‚úÖ Screenshot copied to clipboard!\n\nWe will now open Twitter/X. Please paste the image using Ctrl+V (or Cmd+V on Mac) in your tweet.\n\nClick OK to continue to Twitter/X.")){const e=formatTime(currentMainTime),t=formatDate(currentMainTime),a=`Time: ${e} ${FIXED_TIMEZONES.MAIN.label} on ${t}\n\nBy convertmytime.com\n\n#timezone #worldclock #timeconverter`,n=`https://x.com/compose/tweet?text=${encodeURIComponent(a)}`;window.open(n,"_blank")}}).catch(e=>{console.error("Failed to copy to clipboard:",e),showNotification("‚ùå Failed to copy image to clipboard. Try the share again.",!0);const t=formatTime(currentMainTime),a=formatDate(currentMainTime),n=`Time: ${t} ${FIXED_TIMEZONES.MAIN.label} on ${a}\n\nBy convertmytime.com\n\n#timezone #worldclock #timeconverter`,o=`https://x.com/compose/tweet?text=${encodeURIComponent(n)}`;window.open(o,"_blank")})})}).catch(o=>{e.className=a,t.style.cssText=n,console.error("html2canvas error:",o),showNotification("‚ùå Failed to create screenshot. Please try again.",!0)})}function closeShare(){}function showNotification(e,t=!1){const a=document.getElementById("notification");a.textContent=e,t?a.classList.add("error"):a.classList.remove("error"),a.classList.add("show"),a.classList.remove("hide"),setTimeout(()=>{a.classList.add("hide"),a.classList.remove("show"),setTimeout(()=>{a.classList.remove("hide")},500)},5e3)}function showHelp(){document.getElementById("help-overlay").classList.add("visible")}function closeHelp(){document.getElementById("help-overlay").classList.remove("visible")}function showSettings(){document.getElementById("settings-overlay").classList.add("visible"),renderSettingsCountries()}function closeSettings(){document.getElementById("settings-overlay").classList.remove("visible")}function renderSettingsCountries(){const e=document.getElementById("selected-countries-list"),t=document.getElementById("available-countries-list");e.innerHTML="",t.innerHTML="",selectedBottomCountries.forEach((t,a)=>{const n=COUNTRIES.find(e=>e.code===t);if(n){const o=document.createElement("div");o.className="settings-country-item",o.draggable=!0,o.dataset.code=t,o.dataset.index=a,o.innerHTML=`\n                        <div class="settings-country-name">\n                            <span class="drag-handle">‚ãÆ‚ãÆ</span>\n                            <span>${n.flag} ${n.name}</span>\n                        </div>\n                        <div class="settings-country-actions">\n                            <button class="settings-btn remove" onclick="removeCountry('${t}')">√ó</button>\n                        </div>\n                    `,o.addEventListener("dragstart",handleSettingsDragStart),o.addEventListener("dragover",handleSettingsDragOver),o.addEventListener("drop",handleSettingsDrop),o.addEventListener("dragend",handleSettingsDragEnd),o.addEventListener("touchstart",handleSettingsTouchStart,{passive:!1}),o.addEventListener("touchmove",handleSettingsTouchMove,{passive:!1}),o.addEventListener("touchend",handleSettingsTouchEnd);const l=o.querySelector(".settings-btn.remove");l&&(l.addEventListener("touchstart",function(e){e.stopPropagation()},{passive:!1}),l.addEventListener("touchmove",function(e){e.stopPropagation()},{passive:!1}),l.addEventListener("touchend",function(e){e.stopPropagation()},{passive:!1})),e.appendChild(o)}});COUNTRIES.filter(e=>!selectedBottomCountries.includes(e.code)).forEach(e=>{const a=document.createElement("div");a.className="settings-available-item",a.innerHTML=`\n                    <div class="settings-country-name">\n                        <span>${e.flag} ${e.name}</span>\n                    </div>\n                    <div class="settings-country-actions">\n                        <button class="settings-btn add" onclick="addCountry('${e.code}')">+</button>\n                    </div>\n                `,t.appendChild(a)})}function addCountry(e){selectedBottomCountries.includes(e)||(selectedBottomCountries.push(e),saveSelectedCountries(),renderBottomCountries(),updateAllTimes(),renderSettingsCountries())}function removeCountry(e){const t=selectedBottomCountries.indexOf(e);t>-1&&(selectedBottomCountries.splice(t,1),saveSelectedCountries(),renderBottomCountries(),updateAllTimes(),renderSettingsCountries())}function resetToDefaults(){selectedBottomCountries=[...DEFAULT_BOTTOM_COUNTRIES],saveSelectedCountries(),renderBottomCountries(),updateAllTimes(),renderSettingsCountries()}function handleSettingsDragStart(e){draggedElement=e.target,draggedIndex=parseInt(e.target.dataset.index),e.target.classList.add("dragging"),isSettingsDragging=!0}function handleSettingsDragOver(e){e.preventDefault()}function handleSettingsDrop(e){if(e.preventDefault(),!isSettingsDragging)return;const t=e.target.closest(".settings-country-item");if(!t||t===draggedElement)return;const a=parseInt(t.dataset.index),n=selectedBottomCountries[draggedIndex];selectedBottomCountries.splice(draggedIndex,1),selectedBottomCountries.splice(a,0,n),saveSelectedCountries(),renderBottomCountries(),updateAllTimes(),renderSettingsCountries()}function handleSettingsDragEnd(e){e.target.classList.remove("dragging"),draggedElement=null,draggedIndex=-1,isSettingsDragging=!1}function handleSettingsTouchStart(e){const t=e.touches[0],a=e.currentTarget;touchItem=a,draggedElement=a,draggedIndex=parseInt(a.dataset.index),isSettingsDragging=!0;const n=a.getBoundingClientRect();touchOffset.x=t.clientX-n.left,touchOffset.y=t.clientY-n.top,a.style.position="fixed",a.style.zIndex="9999",a.style.width=n.width+"px",a.classList.add("dragging"),placeholder=document.createElement("div"),placeholder.className="drag-placeholder",placeholder.style.height=n.height+"px",placeholder.textContent="Drop here",a.parentNode.insertBefore(placeholder,a),e.preventDefault()}function handleSettingsTouchMove(e){if(!touchItem||!isSettingsDragging)return;const t=e.touches[0];touchItem.style.left=t.clientX-touchOffset.x+"px",touchItem.style.top=t.clientY-touchOffset.y+"px";const a=document.elementFromPoint(t.clientX,t.clientY);if(!a)return;const n=a.closest(".settings-country-item");if(n&&n!==touchItem&&n!==placeholder){const e=n.getBoundingClientRect();t.clientY>e.top+e.height/2?n.parentNode.insertBefore(placeholder,n.nextSibling):n.parentNode.insertBefore(placeholder,n)}e.preventDefault()}function handleSettingsTouchEnd(e){if(touchItem&&isSettingsDragging){if(touchItem.style.position="",touchItem.style.zIndex="",touchItem.style.width="",touchItem.style.left="",touchItem.style.top="",touchItem.classList.remove("dragging"),placeholder&&placeholder.parentNode){const e=Array.from(placeholder.parentNode.children).indexOf(placeholder);if(-1!==e&&e!==draggedIndex){const t=selectedBottomCountries[draggedIndex];selectedBottomCountries.splice(draggedIndex,1);const a=e>draggedIndex?e-1:e;selectedBottomCountries.splice(a,0,t),saveSelectedCountries(),renderBottomCountries(),updateAllTimes(),renderSettingsCountries()}placeholder.parentNode.replaceChild(touchItem,placeholder)}touchItem=null,draggedElement=null,draggedIndex=-1,isSettingsDragging=!1,placeholder=null}}function loadSelectedCountries(){const e=localStorage.getItem("selected-countries");if(e)try{selectedBottomCountries=JSON.parse(e),console.log("Loaded selected countries:",selectedBottomCountries)}catch(e){console.error("Error loading selected countries:",e),selectedBottomCountries=[...DEFAULT_BOTTOM_COUNTRIES]}else selectedBottomCountries=[...DEFAULT_BOTTOM_COUNTRIES]}function saveSelectedCountries(){localStorage.setItem("selected-countries",JSON.stringify(selectedBottomCountries)),console.log("Saved selected countries:",selectedBottomCountries)}function renderBottomCountries(){const e=document.getElementById("bottom-zones");e.innerHTML="",selectedBottomCountries.forEach((t,a)=>{const n=COUNTRIES.find(e=>e.code===t);if(n){const o=document.createElement("div");o.className="bottom-zone",o.draggable=!0,o.dataset.code=t,o.dataset.index=a,o.innerHTML=`\n                        <div class="timezone-label">${n.flag} ${n.name}</div>\n                        <div class="time-display" id="${n.code}-time">00:00 AM</div>\n                        <div class="country-name" id="${n.code}-date">Jan 1, 2024</div>\n                    `,o.addEventListener("dragstart",handleDragStart),o.addEventListener("dragover",handleDragOver),o.addEventListener("drop",handleDrop),o.addEventListener("dragend",handleDragEnd),o.addEventListener("touchstart",handleTouchStart,{passive:!1}),o.addEventListener("touchmove",handleTouchMove,{passive:!1}),o.addEventListener("touchend",handleTouchEnd),e.appendChild(o)}})}function handleDragStart(e){isSettingsDragging||(draggedElement=e.target,draggedIndex=parseInt(e.target.dataset.index),e.target.classList.add("dragging"))}function handleDragOver(e){e.preventDefault()}function handleDrop(e){if(e.preventDefault(),isSettingsDragging)return;const t=e.target.closest(".bottom-zone");if(!t||t===draggedElement)return;const a=parseInt(t.dataset.index),n=selectedBottomCountries[draggedIndex];selectedBottomCountries.splice(draggedIndex,1),selectedBottomCountries.splice(a,0,n),saveSelectedCountries(),renderBottomCountries(),updateAllTimes()}function handleDragEnd(e){e.target.classList.remove("dragging"),draggedElement=null,draggedIndex=-1}function handleTouchStart(e){if(isSettingsDragging)return;const t=e.touches[0],a=e.currentTarget;touchItem=a,draggedElement=a,draggedIndex=parseInt(a.dataset.index);const n=a.getBoundingClientRect();touchOffset.x=t.clientX-n.left,touchOffset.y=t.clientY-n.top,a.style.position="fixed",a.style.zIndex="9999",a.style.width=n.width+"px",a.classList.add("dragging"),placeholder=document.createElement("div"),placeholder.className="bottom-zone",placeholder.style.border="2px dashed rgba(255, 255, 255, 0.3)",placeholder.style.background="rgba(255, 255, 255, 0.1)",placeholder.innerHTML='<div class="timezone-label">Drop here</div>',a.parentNode.insertBefore(placeholder,a),e.preventDefault()}function handleTouchMove(e){if(!touchItem||isSettingsDragging)return;const t=e.touches[0];touchItem.style.left=t.clientX-touchOffset.x+"px",touchItem.style.top=t.clientY-touchOffset.y+"px";const a=document.elementFromPoint(t.clientX,t.clientY);if(!a)return;const n=a.closest(".bottom-zone");if(n&&n!==touchItem&&n!==placeholder){const e=n.getBoundingClientRect();t.clientX>e.left+e.width/2?n.parentNode.insertBefore(placeholder,n.nextSibling):n.parentNode.insertBefore(placeholder,n)}e.preventDefault()}function handleTouchEnd(e){if(touchItem&&!isSettingsDragging){if(touchItem.style.position="",touchItem.style.zIndex="",touchItem.style.width="",touchItem.style.left="",touchItem.style.top="",touchItem.classList.remove("dragging"),placeholder&&placeholder.parentNode){const e=Array.from(placeholder.parentNode.children).indexOf(placeholder);if(-1!==e&&e!==draggedIndex){const t=selectedBottomCountries[draggedIndex];selectedBottomCountries.splice(draggedIndex,1);const a=e>draggedIndex?e-1:e;selectedBottomCountries.splice(a,0,t),saveSelectedCountries(),renderBottomCountries(),updateAllTimes()}placeholder.remove()}touchItem=null,draggedElement=null,draggedIndex=-1,placeholder=null}}function getURLParameters(){const e=new URLSearchParams(window.location.search),t=e.get("date"),a=e.get("time");if(a){let e=new Date;if(t){const a=t.split("-");if(3===a.length){const t=parseInt(a[0])-1,n=parseInt(a[1]),o=parseInt(a[2]);e=new Date(o,t,n)}}const n=a.toLowerCase().match(/(\d{1,2}):?(\d{0,2})\s*(am|pm)?/);if(n){let t=parseInt(n[1]);const a=n[2]?parseInt(n[2]):0,o=n[3];return"pm"===o&&12!==t?t+=12:"am"===o&&12===t&&(t=0),e.setHours(t,a,0,0),e}}return null}function initializeTime(){const e=getURLParameters();e?(currentMainTime=new Date(e),isLiveMode=!1,console.log("Using URL time:",currentMainTime)):(currentMainTime=new Date,isLiveMode=!0,console.log("Using current time:",currentMainTime),startAutoUpdate()),console.log("INITIALIZE - currentMainTime:",currentMainTime.toString()),console.log("INITIALIZE - getTime():",currentMainTime.getTime()),console.log("INITIALIZE - getHours():",currentMainTime.getHours())}function startAutoUpdate(){autoUpdateTimer&&clearInterval(autoUpdateTimer),isLiveMode&&(autoUpdateTimer=setInterval(()=>{const e=new Date;e.getMinutes();0===e.getSeconds()&&(currentMainTime=new Date,console.log("Auto-updated to fresh date:",currentMainTime.toString()),updateAllTimes(),console.log("Auto-updated to:",formatTime(currentMainTime)))},1e3))}function stopAutoUpdate(){autoUpdateTimer&&(clearInterval(autoUpdateTimer),autoUpdateTimer=null),isLiveMode=!1}function formatTime(e){return e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}function formatDate(e){return e.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}function updateAllTimes(){const e=document.getElementById("main-time"),t=document.getElementById("main-date");e&&(e.textContent=formatTime(currentMainTime)),t&&(t.textContent=formatDate(currentMainTime));const a=FIXED_TIMEZONES.TOP1.offset-FIXED_TIMEZONES.MAIN.offset,n=new Date(currentMainTime.getTime()+60*a*60*1e3);document.getElementById("top1-time").textContent=formatTime(n),document.getElementById("top1-date").textContent=formatDate(n);const o=FIXED_TIMEZONES.TOP2.offset-FIXED_TIMEZONES.MAIN.offset,l=new Date(currentMainTime.getTime()+60*o*60*1e3);document.getElementById("top2-time").textContent=formatTime(l),document.getElementById("top2-date").textContent=formatDate(l),selectedBottomCountries.forEach(e=>{const t=COUNTRIES.find(t=>t.code===e);if(!t)return;const a=t.offset-FIXED_TIMEZONES.MAIN.offset,n=new Date(currentMainTime.getTime()+60*a*60*1e3),o=document.getElementById(`${t.code}-time`),l=document.getElementById(`${t.code}-date`);o&&l&&(o.textContent=formatTime(n),l.textContent=formatDate(n))})}function editTime(e){const t=e.textContent,a=document.createElement("input");a.type="text",a.className="time-input",a.value=t,e.replaceWith(a),a.focus(),a.select(),a.addEventListener("keydown",function(e){if("Enter"===e.key){const e=a.value.trim().match(/(\d{1,2}):?(\d{0,2})\s*(am|pm)?/i);if(e){let t=parseInt(e[1]);const n=e[2]?parseInt(e[2]):0,o=e[3]?e[3].toLowerCase():null;if("pm"===o&&12!==t?t+=12:"am"===o&&12===t&&(t=0),t>=0&&t<=23&&n>=0&&n<=59){stopAutoUpdate(),currentMainTime.setHours(t,n,0,0),updateAllTimes();const e=document.createElement("div");e.className="time-display clickable",e.id="main-time",e.onclick=()=>editTime(e),e.textContent=formatTime(currentMainTime),a.replaceWith(e),updateAllTimes()}else alert("Invalid time format. Please use HH:MM AM/PM format.")}else alert("Invalid time format. Please use HH:MM AM/PM format.")}if("Escape"===e.key){const e=document.createElement("div");e.className="time-display clickable",e.id="main-time",e.onclick=()=>editTime(e),e.textContent=t,a.replaceWith(e)}}),a.addEventListener("blur",function(){const e=document.createElement("div");e.className="time-display clickable",e.id="main-time",e.onclick=()=>editTime(e),e.textContent=t,a.replaceWith(e)})}function incrementTime(){stopAutoUpdate(),console.log("INCREMENT called - current time:",formatTime(currentMainTime));const e=currentMainTime.getMinutes(),t=5*Math.ceil(e/5),a=e%5==0?e+5:t;console.log("Current minutes:",e,"Target:",a);const n=new Date(currentMainTime);n.setMinutes(a),currentMainTime=n,updateAllTimes(),console.log("After increment:",formatTime(currentMainTime))}function decrementTime(){stopAutoUpdate(),console.log("DECREMENT called - current time:",formatTime(currentMainTime));const e=currentMainTime.getMinutes(),t=5*Math.floor(e/5),a=e%5==0?e-5:t;console.log("Current minutes:",e,"Target:",a);const n=new Date(currentMainTime);n.setMinutes(a),currentMainTime=n,updateAllTimes(),console.log("After decrement:",formatTime(currentMainTime))}function resetTime(){stopAutoUpdate(),currentMainTime=new Date,updateAllTimes(),console.log("RESET - Fresh date created:",currentMainTime.toString()),console.log("RESET - Date getTime():",currentMainTime.getTime()),console.log("RESET - Date getHours():",currentMainTime.getHours()),console.log("RESET - Date getMinutes():",currentMainTime.getMinutes()),isLiveMode=!0,startAutoUpdate()}let currentMainTime=new Date;function initialize(){const e=(new Date).getFullYear();document.getElementById("current-year").textContent=e,console.log("Copyright year set to:",e),document.getElementById("main-label").textContent=`üá∫üá∏ ${FIXED_TIMEZONES.MAIN.label}`,document.getElementById("top1-label").textContent=`üá∫üá∏ ${FIXED_TIMEZONES.TOP1.label}`,document.getElementById("top2-label").textContent=`üá∫üá∏ ${FIXED_TIMEZONES.TOP2.label}`,console.log("Timezone labels initialized:",FIXED_TIMEZONES.MAIN.label,FIXED_TIMEZONES.TOP1.label,FIXED_TIMEZONES.TOP2.label),initializeUsageTracking(),loadSelectedCountries(),renderBottomCountries(),initializeTime(),loadTheme(),updateAllTimes(),displayUsageStats(),console.log("Initialization complete")}document.addEventListener("keydown",function(e){"Escape"===e.key&&(closeHelp(),closeSettings(),closeShare())}),document.addEventListener("DOMContentLoaded",initialize),"loading"===document.readyState||initialize()</script></body></html>