<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Time Zone Display</title><style>body{margin:0;padding:20px;font-family:Arial,sans-serif;background:linear-gradient(135deg,#2d3436 0%,#636e72 100%);min-height:100vh;display:flex;align-items:center;justify-content:center;transition:all .5s ease}body.light-mode{background:linear-gradient(135deg,#74b9ff 0%,#0984e3 100%)}body.blue-mode{background:linear-gradient(135deg,#1e3c72 0%,#2a5298 100%)}.container{background:rgba(0,0,0,.2);backdrop-filter:blur(10px);border-radius:20px;padding:40px;box-shadow:0 8px 32px rgba(0,0,0,.5);border:1px solid rgba(255,255,255,.1);text-align:center;max-width:500px;width:100%;transition:all .5s ease}.light-mode .container{background:rgba(255,255,255,.25);box-shadow:0 8px 32px rgba(0,0,0,.15);border:1px solid rgba(255,255,255,.3)}.blue-mode .container{background:rgba(255,255,255,.1);box-shadow:0 8px 32px rgba(0,0,0,.3);border:1px solid rgba(255,255,255,.2)}.theme-toggle{position:absolute;top:20px;right:20px;background:rgba(255,255,255,.2);border:1px solid rgba(255,255,255,.3);border-radius:25px;padding:10px 15px;color:white;font-weight:bold;font-size:18px;cursor:pointer;transition:all .3s ease;backdrop-filter:blur(10px)}.theme-toggle:hover{background:rgba(255,255,255,.3);transform:scale(1.1)}.header-buttons{display:flex;justify-content:center;gap:15px;margin-bottom:30px}.header-btn{background:rgba(255,255,255,.2);border:1px solid rgba(255,255,255,.3);border-radius:25px;padding:10px 20px;color:white;font-weight:bold;font-size:14px;cursor:pointer;transition:all .3s ease;text-transform:uppercase;letter-spacing:1px}.header-btn:hover{background:rgba(255,255,255,.3);transform:translateY(-2px);box-shadow:0 4px 12px rgba(255,255,255,.2)}.header-btn:active{transform:translateY(0)}.top-zone{margin-bottom:30px;padding:15px;background:rgba(0,0,0,.2);border-radius:10px;border:1px solid rgba(255,255,255,.1);transition:all .5s ease}.light-mode .top-zone{background:rgba(255,255,255,.2);border:1px solid rgba(255,255,255,.4)}.blue-mode .top-zone{background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2)}.main-zone{margin:30px 0;padding:25px;background:rgba(0,0,0,.2);border-radius:15px;border:2px solid rgba(255,255,255,.2);transform:scale(1.1);display:flex;align-items:center;justify-content:center;gap:20px;transition:all .5s ease}.light-mode .main-zone{background:rgba(255,255,255,.3);border:2px solid rgba(255,255,255,.5)}.blue-mode .main-zone{background:rgba(255,255,255,.2);border:2px solid rgba(255,255,255,.3)}.main-zone.live-mode{animation:livePulse 2s infinite ease-in-out}@keyframes livePulse{0%,100%{border-color:rgba(255,255,255,.3);box-shadow:0 0 0 0 rgba(76,175,80,.4)}50%{border-color:rgba(76,175,80,.8);box-shadow:0 0 0 8px rgba(76,175,80,.1)}}.time-controls{display:flex;flex-direction:column;align-items:center;flex:1}.arrow-btn{background:rgba(255,255,255,.2);border:1px solid rgba(255,255,255,.3);border-radius:50%;width:50px;height:50px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;font-size:20px;color:white;user-select:none}.arrow-btn:hover{background:rgba(255,255,255,.3);transform:scale(1.1)}.arrow-btn:active{transform:scale(.95)}.timezone-label{font-size:18px;color:rgba(255,255,255,.8);margin-bottom:5px;font-weight:bold;text-transform:uppercase;letter-spacing:1px}.main-zone .timezone-label{font-size:24px}.time-display{font-size:24px;color:white;font-weight:bold;text-shadow:0 2px 4px rgba(0,0,0,.3);cursor:pointer;transition:all .3s ease}.time-display:hover{text-shadow:0 2px 8px rgba(255,255,255,.3)}.time-input{background:rgba(255,255,255,.9);border:2px solid rgba(255,255,255,.5);border-radius:8px;padding:8px 12px;font-size:24px;font-weight:bold;color:#333;text-align:center;width:120px;outline:none}.time-input:focus{border-color:#4CAF50;box-shadow:0 0 10px rgba(76,175,80,.3)}.main-zone .time-display{font-size:36px;margin-top:10px}.bottom-zones{display:grid;grid-template-columns:repeat(3,1fr);gap:15px;margin-top:30px;margin-bottom:20px}.bottom-zone{padding:15px;background:rgba(0,0,0,.2);border-radius:10px;border:1px solid rgba(255,255,255,.1);transition:all .5s ease}.light-mode .bottom-zone{background:rgba(255,255,255,.2);border:1px solid rgba(255,255,255,.4)}.blue-mode .bottom-zone{background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2)}.bottom-zone .time-display{font-size:20px}.country-name{font-size:12px;color:rgba(255,255,255,.7);margin-top:5px}.copyright{text-align:center;margin-top:30px;padding:15px;font-size:12px;color:rgba(255,255,255,.7);border-top:1px solid rgba(255,255,255,.1)}.copyright a{color:rgba(255,255,255,.9);text-decoration:none;transition:color .3s ease}.copyright a:hover{color:white;text-decoration:underline}.usage-stats{text-align:center;margin-top:5px;font-size:11px;color:rgba(255,255,255,.5)}.notification{position:fixed;top:80px;right:20px;background:linear-gradient(135deg,#4CAF50 0%,#45a049 100%);color:white;padding:15px 20px;border-radius:10px;box-shadow:0 8px 24px rgba(0,0,0,.4);z-index:9999;display:none;font-weight:bold;font-size:14px;max-width:280px;min-width:200px;text-align:center;border:2px solid rgba(255,255,255,.2)}.notification.show{display:block;animation:slideIn .5s ease-out forwards}.notification.hide{animation:slideOut .5s ease-out forwards}.notification.error{background:linear-gradient(135deg,#f44336 0%,#d32f2f 100%)}@keyframes slideIn{from{transform:translateX(120%);opacity:0}to{transform:translateX(0);opacity:1}}@keyframes slideOut{from{transform:translateX(0);opacity:1}to{transform:translateX(120%);opacity:0}}.help-modal,.settings-modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:none;align-items:center;justify-content:center;z-index:1000;backdrop-filter:blur(5px)}.help-content,.settings-content{background:linear-gradient(135deg,#2d3436 0%,#636e72 100%);border-radius:20px;padding:30px;max-width:600px;max-height:80vh;overflow-y:auto;color:white;position:relative;box-shadow:0 20px 40px rgba(0,0,0,.5);border:1px solid rgba(255,255,255,.2)}.light-mode .help-content,.light-mode .settings-content{background:linear-gradient(135deg,#74b9ff 0%,#0984e3 100%)}.blue-mode .help-content,.blue-mode .settings-content{background:linear-gradient(135deg,#1e3c72 0%,#2a5298 100%)}.help-close,.settings-close{position:absolute;top:15px;right:20px;background:none;border:none;color:white;font-size:24px;cursor:pointer;padding:5px;border-radius:50%;width:35px;height:35px;display:flex;align-items:center;justify-content:center;transition:background-color .3s ease}.help-close:hover,.settings-close:hover{background:rgba(255,255,255,.2)}.help-title,.settings-title{font-size:24px;font-weight:bold;margin-bottom:20px;text-align:center;border-bottom:1px solid rgba(255,255,255,.2);padding-bottom:15px}.help-section{margin-bottom:20px}.help-section h3{font-size:18px;margin-bottom:10px;color:rgba(255,255,255,.9);border-left:3px solid rgba(255,255,255,.5);padding-left:10px}.help-section p{margin-bottom:8px;line-height:1.5;color:rgba(255,255,255,.8)}.help-code{background:rgba(0,0,0,.3);padding:8px 12px;border-radius:6px;font-family:monospace;font-size:14px;color:#4CAF50;margin:5px 0;word-break:break-all;display:flex;justify-content:space-between;align-items:center}.try-link{background:rgba(76,175,80,.2);color:#4CAF50;padding:4px 8px;border-radius:4px;text-decoration:none;font-size:12px;font-weight:bold;transition:all .3s ease;border:1px solid rgba(76,175,80,.3);cursor:pointer}.try-link:hover{background:rgba(76,175,80,.3);color:white;transform:scale(1.05)}.help-examples{background:rgba(255,255,255,.1);padding:15px;border-radius:10px;margin:10px 0}.settings-countries-list{background:rgba(0,0,0,.2);border-radius:10px;padding:15px;margin:20px 0;min-height:300px}.settings-countries-list h3{margin-top:0;color:rgba(255,255,255,.9);font-size:18px;margin-bottom:15px}.countries-container{display:flex;flex-direction:column;gap:8px}.country-item{display:flex;align-items:center;padding:12px;background:rgba(255,255,255,.1);border-radius:8px;cursor:move;transition:all .3s ease;border:1px solid rgba(255,255,255,.2);user-select:none}.country-item:hover{background:rgba(255,255,255,.2);transform:translateY(-2px)}.country-item.dragging{opacity:.5;transform:rotate(5deg)}.country-item.drag-over{background:rgba(76,175,80,.3);border-color:rgba(76,175,80,.5)}.country-item.available{cursor:pointer;border-color:rgba(255,255,255,.4)}.country-item.available:hover{background:rgba(76,175,80,.2);border-color:rgba(76,175,80,.4)}.drag-handle{color:rgba(255,255,255,.5);margin-right:10px;cursor:move;font-size:18px}.country-label{flex:1;font-size:14px;color:white}.remove-country{background:rgba(255,0,0,.3);border:1px solid rgba(255,0,0,.5);border-radius:50%;width:24px;height:24px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:white;font-size:14px;transition:all .3s ease}.remove-country:hover{background:rgba(255,0,0,.5);transform:scale(1.1)}.add-country{background:rgba(76,175,80,.3);border:1px solid rgba(76,175,80,.5);border-radius:50%;width:24px;height:24px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:white;font-size:14px;font-weight:bold;transition:all .3s ease}.add-country:hover{background:rgba(76,175,80,.5);transform:scale(1.1)}.settings-actions{display:flex;gap:10px;margin-top:20px;justify-content:center}.settings-btn{background:rgba(255,255,255,.2);border:1px solid rgba(255,255,255,.3);border-radius:20px;padding:10px 20px;color:white;font-weight:bold;cursor:pointer;transition:all .3s ease}.settings-btn:hover{background:rgba(255,255,255,.3);transform:translateY(-2px)}.settings-btn.primary{background:rgba(76,175,80,.3);border:1px solid rgba(76,175,80,.5)}.settings-btn.primary:hover{background:rgba(76,175,80,.5)}.empty-message{text-align:center;color:rgba(255,255,255,.5);font-style:italic;margin:20px 0}.section-separator{margin:30px 0;border-bottom:1px solid rgba(255,255,255,.2)}@media (max-width:768px){.theme-toggle{position:fixed;top:15px;left:50%;transform:translateX(-50%);background:rgba(255,255,255,.3);border:2px solid rgba(255,255,255,.4);border-radius:50%;padding:8px;color:white;font-weight:bold;font-size:14px;cursor:pointer;transition:all .3s ease;backdrop-filter:blur(10px);z-index:1000;width:24px;height:24px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px rgba(0,0,0,.3)}.container{padding:15px;margin:0;max-width:100%;width:calc(100% - 20px);padding-top:15px}.header-buttons{display:flex;flex-direction:row;justify-content:center;gap:8px;margin-bottom:20px;flex-wrap:nowrap;margin-top:10px}.header-btn{flex:1;padding:10px 12px;font-size:12px;min-width:0;white-space:nowrap;border-radius:20px}.bottom-zones{grid-template-columns:repeat(2,1fr);gap:12px}.bottom-zone{padding:12px}.main-zone{transform:scale(1);gap:10px;margin:20px 0;padding:20px}.arrow-btn{width:35px;height:35px;font-size:16px}.time-display{font-size:20px}.main-zone .time-display{font-size:28px}.notification{right:10px;left:10px;max-width:none;top:70px;margin:0 5px}}</style></head><body><div class="theme-toggle" onclick="toggleTheme()" id="theme-toggle">ğŸŒ›</div><div class="container"><div class="header-buttons"><div class="header-btn" onclick="shareToTwitter()">SHARE</div><div class="header-btn" onclick="resetToCurrentTime()">RESET</div><div class="header-btn" onclick="showSettings()">âš™ï¸</div><div class="header-btn" onclick="showHelp()">HELP</div></div><div class="top-zone"><div class="timezone-label">ğŸ‡ºğŸ‡¸ EDT</div><div class="time-display" id="edt-time">9:00 PM</div><div class="country-name" id="edt-date">Wed, Jul 9</div></div><div class="main-zone"><div class="arrow-btn" onclick="decrementTime()">âˆ’</div><div class="time-controls"><div class="timezone-label">ğŸ‡ºğŸ‡¸ PDT</div><div class="time-display" id="pdt-time" onclick="editTime(this)">6:00 PM</div><div class="country-name" id="pdt-date">Wed, Jul 9</div></div><div class="arrow-btn" onclick="incrementTime()">+</div></div><div class="bottom-zones" id="bottom-zones"></div><div class="copyright">Copyright Â© <span id="current-year"></span> <a href="https://evoknow.com" target="_blank">EVOKNOW</a> | <a href="https://opensource.org/licenses/MIT" target="_blank">MIT License</a></div><div class="usage-stats" id="usage-stats">Loading usage stats...</div></div><div class="notification" id="notification"></div><div class="help-modal" id="help-modal"><div class="help-content"><button class="help-close" onclick="closeHelp()">Ã—</button><div class="help-title">ğŸŒ Timezone Display Help</div><div class="help-section"><h3>ğŸ”— URL Parameters</h3><p>You can set a specific date and time using URL parameters:</p><div class="help-examples"><p><strong>Time only (uses today's date):</strong></p><div class="help-code"><span>?time=7am</span><a class="try-link" onclick="tryExample('?time=7am')">Try</a></div><div class="help-code"><span>?time=6:30pm</span><a class="try-link" onclick="tryExample('?time=6:30pm')">Try</a></div><div class="help-code"><span>?time=12:00PM</span><a class="try-link" onclick="tryExample('?time=12:00PM')">Try</a></div><p><strong>Date and time:</strong></p><div class="help-code"><span>?date=07-10-2025&time=6:00pm</span><a class="try-link" onclick="tryExample('?date=07-10-2025&time=6:00pm')">Try</a></div><div class="help-code"><span>?date=12/25/2025&time=9am</span><a class="try-link" onclick="tryExample('?date=12/25/2025&time=9am')">Try</a></div><div class="help-code"><span>?date=01-01-2026&time=11:30PM</span><a class="try-link" onclick="tryExample('?date=01-01-2026&time=11:30PM')">Try</a></div></div></div><div class="help-section"><h3>ğŸ”„ RESET Button</h3><p>â€¢ Sets time to current date and time</p><p>â€¢ Enables automatic updates every minute</p><p>â€¢ Shows green pulsing border when live</p></div><div class="help-section"><h3>â° Time Controls</h3><p><strong>Arrow Buttons:</strong></p><p>â€¢ <strong>âˆ’ (minus)</strong>: Go back to nearest 5-minute mark</p><p>â€¢ <strong>+ (plus)</strong>: Go forward to nearest 5-minute mark</p><p>â€¢ Example: 6:23 PM â†’ 6:20 PM (âˆ’) or 6:25 PM (+)</p><p><strong>Click to Edit:</strong></p><p>â€¢ Click on PDT time to edit directly</p><p>â€¢ Press Enter to save, Escape to cancel</p></div><div class="help-section"><h3>ğŸ¨ Theme Modes</h3><p>Click the theme button (ğŸŒ›/â˜€ï¸/ğŸŒ™) to cycle through:</p><p>â€¢ <strong>Dark Mode</strong> (default): Dark gray gradient</p><p>â€¢ <strong>Light Mode</strong>: Bright blue gradient</p><p>â€¢ <strong>Blue Mode</strong>: Classic blue gradient</p></div><div class="help-section"><h3>âš™ï¸ Settings</h3><p>â€¢ Click the gear icon to customize bottom countries</p><p>â€¢ Drag and drop to reorder countries</p><p>â€¢ Add/remove countries from the list</p><p>â€¢ Your selections are saved automatically</p></div><div class="help-section"><h3>ğŸ“¸ Sharing</h3><p>â€¢ SHARE button captures current theme</p><p>â€¢ Copies image to clipboard automatically</p><p>â€¢ Opens Twitter/X composer for posting</p></div></div></div><div class="settings-modal" id="settings-modal"><div class="settings-content"><button class="settings-close" onclick="closeSettings()">Ã—</button><div class="settings-title">âš™ï¸ Customize Bottom Countries</div><p style="text-align:center;color:rgba(255,255,255,.8);margin-bottom:20px">EDT (top) and PDT (middle) are fixed. Changes are saved automatically.</p><div class="settings-countries-list"><h3>Bottom Countries (drag to reorder)</h3><div class="countries-container" id="selected-countries"></div></div><div class="section-separator"></div><div class="settings-countries-list"><h3>Available Countries (click + to add)</h3><div class="countries-container" id="available-countries"></div></div><div class="settings-actions"><button class="settings-btn" onclick="resetToDefaults()">Reset to Defaults</button></div></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script><script>const COUNTRIES=[{code:'BD',name:'Bangladesh',flag:'ğŸ‡§ğŸ‡©',offset:6,label:'BD'},{code:'GB',name:'United Kingdom',flag:'ğŸ‡¬ğŸ‡§',offset:1,label:'UK'},{code:'DE',name:'Germany',flag:'ğŸ‡©ğŸ‡ª',offset:2,label:'DE'},{code:'ZA',name:'South Africa',flag:'ğŸ‡¿ğŸ‡¦',offset:2,label:'ZA'},{code:'CA',name:'Canada (EDT)',flag:'ğŸ‡¨ğŸ‡¦',offset:-4,label:'CA'},{code:'AU',name:'Australia (Sydney)',flag:'ğŸ‡¦ğŸ‡º',offset:10,label:'AU'},{code:'JP',name:'Japan',flag:'ğŸ‡¯ğŸ‡µ',offset:9,label:'JP'},{code:'CN',name:'China',flag:'ğŸ‡¨ğŸ‡³',offset:8,label:'CN'},{code:'IN',name:'India',flag:'ğŸ‡®ğŸ‡³',offset:5.5,label:'IN'},{code:'BR',name:'Brazil',flag:'ğŸ‡§ğŸ‡·',offset:-3,label:'BR'},{code:'MX',name:'Mexico',flag:'ğŸ‡²ğŸ‡½',offset:-6,label:'MX'},{code:'RU',name:'Russia (Moscow)',flag:'ğŸ‡·ğŸ‡º',offset:3,label:'RU'},{code:'FR',name:'France',flag:'ğŸ‡«ğŸ‡·',offset:2,label:'FR'},{code:'ES',name:'Spain',flag:'ğŸ‡ªğŸ‡¸',offset:2,label:'ES'},{code:'IT',name:'Italy',flag:'ğŸ‡®ğŸ‡¹',offset:2,label:'IT'},{code:'KR',name:'South Korea',flag:'ğŸ‡°ğŸ‡·',offset:9,label:'KR'},{code:'SG',name:'Singapore',flag:'ğŸ‡¸ğŸ‡¬',offset:8,label:'SG'},{code:'NZ',name:'New Zealand',flag:'ğŸ‡³ğŸ‡¿',offset:12,label:'NZ'},{code:'AE',name:'UAE',flag:'ğŸ‡¦ğŸ‡ª',offset:4,label:'UAE'},{code:'SA',name:'Saudi Arabia',flag:'ğŸ‡¸ğŸ‡¦',offset:3,label:'SA'},{code:'EG',name:'Egypt',flag:'ğŸ‡ªğŸ‡¬',offset:2,label:'EG'},{code:'NG',name:'Nigeria',flag:'ğŸ‡³ğŸ‡¬',offset:1,label:'NG'},{code:'AR',name:'Argentina',flag:'ğŸ‡¦ğŸ‡·',offset:-3,label:'AR'},{code:'CO',name:'Colombia',flag:'ğŸ‡¨ğŸ‡´',offset:-5,label:'CO'},{code:'CL',name:'Chile',flag:'ğŸ‡¨ğŸ‡±',offset:-3,label:'CL'},{code:'PE',name:'Peru',flag:'ğŸ‡µğŸ‡ª',offset:-5,label:'PE'},{code:'VE',name:'Venezuela',flag:'ğŸ‡»ğŸ‡ª',offset:-4,label:'VE'},{code:'MY',name:'Malaysia',flag:'ğŸ‡²ğŸ‡¾',offset:8,label:'MY'},{code:'TH',name:'Thailand',flag:'ğŸ‡¹ğŸ‡­',offset:7,label:'TH'},{code:'VN',name:'Vietnam',flag:'ğŸ‡»ğŸ‡³',offset:7,label:'VN'},{code:'PH',name:'Philippines',flag:'ğŸ‡µğŸ‡­',offset:8,label:'PH'},{code:'ID',name:'Indonesia',flag:'ğŸ‡®ğŸ‡©',offset:7,label:'ID'},{code:'PK',name:'Pakistan',flag:'ğŸ‡µğŸ‡°',offset:5,label:'PK'},{code:'TR',name:'Turkey',flag:'ğŸ‡¹ğŸ‡·',offset:3,label:'TR'},{code:'IR',name:'Iran',flag:'ğŸ‡®ğŸ‡·',offset:3.5,label:'IR'},{code:'IQ',name:'Iraq',flag:'ğŸ‡®ğŸ‡¶',offset:3,label:'IQ'},{code:'IL',name:'Israel',flag:'ğŸ‡®ğŸ‡±',offset:3,label:'IL'},{code:'GR',name:'Greece',flag:'ğŸ‡¬ğŸ‡·',offset:3,label:'GR'},{code:'PT',name:'Portugal',flag:'ğŸ‡µğŸ‡¹',offset:1,label:'PT'},{code:'NL',name:'Netherlands',flag:'ğŸ‡³ğŸ‡±',offset:2,label:'NL'},{code:'BE',name:'Belgium',flag:'ğŸ‡§ğŸ‡ª',offset:2,label:'BE'},{code:'CH',name:'Switzerland',flag:'ğŸ‡¨ğŸ‡­',offset:2,label:'CH'},{code:'AT',name:'Austria',flag:'ğŸ‡¦ğŸ‡¹',offset:2,label:'AT'},{code:'SE',name:'Sweden',flag:'ğŸ‡¸ğŸ‡ª',offset:2,label:'SE'},{code:'NO',name:'Norway',flag:'ğŸ‡³ğŸ‡´',offset:2,label:'NO'},{code:'DK',name:'Denmark',flag:'ğŸ‡©ğŸ‡°',offset:2,label:'DK'},{code:'FI',name:'Finland',flag:'ğŸ‡«ğŸ‡®',offset:3,label:'FI'},{code:'PL',name:'Poland',flag:'ğŸ‡µğŸ‡±',offset:2,label:'PL'},{code:'UA',name:'Ukraine',flag:'ğŸ‡ºğŸ‡¦',offset:3,label:'UA'},{code:'RO',name:'Romania',flag:'ğŸ‡·ğŸ‡´',offset:3,label:'RO'},{code:'HU',name:'Hungary',flag:'ğŸ‡­ğŸ‡º',offset:2,label:'HU'},{code:'CZ',name:'Czech Republic',flag:'ğŸ‡¨ğŸ‡¿',offset:2,label:'CZ'},{code:'SK',name:'Slovakia',flag:'ğŸ‡¸ğŸ‡°',offset:2,label:'SK'},{code:'BG',name:'Bulgaria',flag:'ğŸ‡§ğŸ‡¬',offset:3,label:'BG'},{code:'HR',name:'Croatia',flag:'ğŸ‡­ğŸ‡·',offset:2,label:'HR'},{code:'RS',name:'Serbia',flag:'ğŸ‡·ğŸ‡¸',offset:2,label:'RS'},{code:'SI',name:'Slovenia',flag:'ğŸ‡¸ğŸ‡®',offset:2,label:'SI'},{code:'BA',name:'Bosnia',flag:'ğŸ‡§ğŸ‡¦',offset:2,label:'BA'},{code:'MK',name:'North Macedonia',flag:'ğŸ‡²ğŸ‡°',offset:2,label:'MK'},{code:'AL',name:'Albania',flag:'ğŸ‡¦ğŸ‡±',offset:2,label:'AL'},{code:'KE',name:'Kenya',flag:'ğŸ‡°ğŸ‡ª',offset:3,label:'KE'},{code:'ET',name:'Ethiopia',flag:'ğŸ‡ªğŸ‡¹',offset:3,label:'ET'},{code:'GH',name:'Ghana',flag:'ğŸ‡¬ğŸ‡­',offset:0,label:'GH'},{code:'MA',name:'Morocco',flag:'ğŸ‡²ğŸ‡¦',offset:1,label:'MA'},{code:'DZ',name:'Algeria',flag:'ğŸ‡©ğŸ‡¿',offset:1,label:'DZ'},{code:'TN',name:'Tunisia',flag:'ğŸ‡¹ğŸ‡³',offset:1,label:'TN'},{code:'LY',name:'Libya',flag:'ğŸ‡±ğŸ‡¾',offset:2,label:'LY'},{code:'SD',name:'Sudan',flag:'ğŸ‡¸ğŸ‡©',offset:2,label:'SD'},{code:'UG',name:'Uganda',flag:'ğŸ‡ºğŸ‡¬',offset:3,label:'UG'},{code:'TZ',name:'Tanzania',flag:'ğŸ‡¹ğŸ‡¿',offset:3,label:'TZ'},{code:'AO',name:'Angola',flag:'ğŸ‡¦ğŸ‡´',offset:1,label:'AO'},{code:'MZ',name:'Mozambique',flag:'ğŸ‡²ğŸ‡¿',offset:2,label:'MZ'},{code:'ZW',name:'Zimbabwe',flag:'ğŸ‡¿ğŸ‡¼',offset:2,label:'ZW'},{code:'BW',name:'Botswana',flag:'ğŸ‡§ğŸ‡¼',offset:2,label:'BW'},{code:'NA',name:'Namibia',flag:'ğŸ‡³ğŸ‡¦',offset:2,label:'NA'},{code:'MG',name:'Madagascar',flag:'ğŸ‡²ğŸ‡¬',offset:3,label:'MG'},{code:'MU',name:'Mauritius',flag:'ğŸ‡²ğŸ‡º',offset:4,label:'MU'},{code:'HK',name:'Hong Kong',flag:'ğŸ‡­ğŸ‡°',offset:8,label:'HK'},{code:'TW',name:'Taiwan',flag:'ğŸ‡¹ğŸ‡¼',offset:8,label:'TW'},{code:'MN',name:'Mongolia',flag:'ğŸ‡²ğŸ‡³',offset:8,label:'MN'},{code:'NP',name:'Nepal',flag:'ğŸ‡³ğŸ‡µ',offset:5.75,label:'NP'},{code:'LK',name:'Sri Lanka',flag:'ğŸ‡±ğŸ‡°',offset:5.5,label:'LK'},{code:'MM',name:'Myanmar',flag:'ğŸ‡²ğŸ‡²',offset:6.5,label:'MM'},{code:'KH',name:'Cambodia',flag:'ğŸ‡°ğŸ‡­',offset:7,label:'KH'},{code:'LA',name:'Laos',flag:'ğŸ‡±ğŸ‡¦',offset:7,label:'LA'},{code:'BN',name:'Brunei',flag:'ğŸ‡§ğŸ‡³',offset:8,label:'BN'},{code:'PG',name:'Papua New Guinea',flag:'ğŸ‡µğŸ‡¬',offset:10,label:'PG'},{code:'FJ',name:'Fiji',flag:'ğŸ‡«ğŸ‡¯',offset:12,label:'FJ'},{code:'IS',name:'Iceland',flag:'ğŸ‡®ğŸ‡¸',offset:0,label:'IS'},{code:'IE',name:'Ireland',flag:'ğŸ‡®ğŸ‡ª',offset:1,label:'IE'},{code:'CU',name:'Cuba',flag:'ğŸ‡¨ğŸ‡º',offset:-5,label:'CU'},{code:'JM',name:'Jamaica',flag:'ğŸ‡¯ğŸ‡²',offset:-5,label:'JM'},{code:'HT',name:'Haiti',flag:'ğŸ‡­ğŸ‡¹',offset:-5,label:'HT'},{code:'DO',name:'Dominican Republic',flag:'ğŸ‡©ğŸ‡´',offset:-4,label:'DO'},{code:'GT',name:'Guatemala',flag:'ğŸ‡¬ğŸ‡¹',offset:-6,label:'GT'},{code:'CR',name:'Costa Rica',flag:'ğŸ‡¨ğŸ‡·',offset:-6,label:'CR'},{code:'PA',name:'Panama',flag:'ğŸ‡µğŸ‡¦',offset:-5,label:'PA'},{code:'EC',name:'Ecuador',flag:'ğŸ‡ªğŸ‡¨',offset:-5,label:'EC'},{code:'BO',name:'Bolivia',flag:'ğŸ‡§ğŸ‡´',offset:-4,label:'BO'},{code:'PY',name:'Paraguay',flag:'ğŸ‡µğŸ‡¾',offset:-3,label:'PY'},{code:'UY',name:'Uruguay',flag:'ğŸ‡ºğŸ‡¾',offset:-3,label:'UY'}];const FIXED_TIMEZONES={EDT:{code:'US-EDT',name:'USA (EDT)',flag:'ğŸ‡ºğŸ‡¸',offset:-4,label:'EDT'},PDT:{code:'US-PDT',name:'USA (PDT)',flag:'ğŸ‡ºğŸ‡¸',offset:-7,label:'PDT'}};const DEFAULT_BOTTOM_COUNTRIES=['BD','GB','DE','ZA','CA','AU'];let selectedBottomCountries=[];function loadSelectedCountries(){const saved=localStorage.getItem('timezone-bottom-countries');if(saved){try{selectedBottomCountries=JSON.parse(saved)}catch(e){selectedBottomCountries=[...DEFAULT_BOTTOM_COUNTRIES]}}else{selectedBottomCountries=[...DEFAULT_BOTTOM_COUNTRIES]}}function saveSelectedCountries(){localStorage.setItem('timezone-bottom-countries',JSON.stringify(selectedBottomCountries))}function populateSettings(){const selectedContainer=document.getElementById('selected-countries');const availableContainer=document.getElementById('available-countries');selectedContainer.innerHTML='';availableContainer.innerHTML='';if(selectedBottomCountries.length===0){selectedContainer.innerHTML='<div class="empty-message">No countries selected. Add some from the available list below.</div>'}else{selectedBottomCountries.forEach(code=>{const country=COUNTRIES.find(c=>c.code===code);if(!country)return;const item=document.createElement('div');item.className='country-item';item.draggable=true;item.dataset.code=code;item.innerHTML=`<div class="drag-handle">â‹®â‹®</div><div class="country-label">${country.flag} ${country.name}</div><div class="remove-country" onclick="removeCountry('${code}')">Ã—</div>`;item.addEventListener('dragstart',handleDragStart);item.addEventListener('dragend',handleDragEnd);item.addEventListener('dragover',handleDragOver);item.addEventListener('drop',handleDrop);selectedContainer.appendChild(item)})}COUNTRIES.forEach(country=>{if(selectedBottomCountries.includes(country.code))return;const item=document.createElement('div');item.className='country-item available';item.innerHTML=`<div class="country-label">${country.flag} ${country.name}</div><div class="add-country" onclick="addCountry('${country.code}')">+</div>`;availableContainer.appendChild(item)})}let draggedElement=null;function handleDragStart(e){draggedElement=this;this.classList.add('dragging');e.dataTransfer.effectAllowed='move';e.dataTransfer.setData('text/html',this.outerHTML)}function handleDragEnd(e){this.classList.remove('dragging');draggedElement=null;document.querySelectorAll('.drag-over').forEach(el=>{el.classList.remove('drag-over')})}function handleDragOver(e){if(e.preventDefault){e.preventDefault()}e.dataTransfer.dropEffect='move';if(this!==draggedElement){this.classList.add('drag-over')}return false}function handleDrop(e){if(e.stopPropagation){e.stopPropagation()}if(draggedElement!==this){const draggedCode=draggedElement.dataset.code;const targetCode=this.dataset.code;const draggedIndex=selectedBottomCountries.indexOf(draggedCode);const targetIndex=selectedBottomCountries.indexOf(targetCode);selectedBottomCountries.splice(draggedIndex,1);selectedBottomCountries.splice(targetIndex,0,draggedCode);populateSettings();saveSelectedCountries();renderBottomCountries();updateAllTimes();console.log('Reordered countries:',selectedBottomCountries)}this.classList.remove('drag-over');return false}function addCountry(code){selectedBottomCountries.push(code);populateSettings();saveSelectedCountries();renderBottomCountries();updateAllTimes()}function removeCountry(code){selectedBottomCountries=selectedBottomCountries.filter(c=>c!==code);populateSettings();saveSelectedCountries();renderBottomCountries();updateAllTimes()}function showSettings(){const modal=document.getElementById('settings-modal');modal.style.display='flex';populateSettings()}function closeSettings(){document.getElementById('settings-modal').style.display='none'}function resetToDefaults(){selectedBottomCountries=[...DEFAULT_BOTTOM_COUNTRIES];populateSettings();saveSelectedCountries();renderBottomCountries();updateAllTimes();showNotification('Reset to default countries')}function renderBottomCountries(){const container=document.getElementById('bottom-zones');const selectedCountryObjects=selectedBottomCountries.map(code=>COUNTRIES.find(c=>c.code===code)).filter(Boolean);container.innerHTML=selectedCountryObjects.map(country=>`<div class="bottom-zone"><div class="timezone-label">${country.flag} ${country.label}</div><div class="time-display" id="${country.code}-time">8:00 AM</div><div class="country-name" id="${country.code}-date">Thu, Jul 10</div></div>`).join('')}let sessionStartTime=Date.now();let totalActiveTime=0;let isPageVisible=true;let visibilityStartTime=Date.now();function initializeUsageTracking(){let pageLoads=parseInt(localStorage.getItem('timezone-page-loads')||'0');pageLoads++;localStorage.setItem('timezone-page-loads',pageLoads.toString());totalActiveTime=parseInt(localStorage.getItem('timezone-total-time')||'0');updateUsageDisplay();document.addEventListener('visibilitychange',handleVisibilityChange);setInterval(()=>{if(isPageVisible){updateActiveTime();updateUsageDisplay()}},10000);window.addEventListener('beforeunload',saveActiveTime)}function handleVisibilityChange(){if(document.hidden){if(isPageVisible){updateActiveTime();saveActiveTime();isPageVisible=false}}else{isPageVisible=true;visibilityStartTime=Date.now()}}function updateActiveTime(){if(isPageVisible){const currentTime=Date.now();const sessionTime=currentTime-visibilityStartTime;totalActiveTime+=sessionTime;visibilityStartTime=currentTime}}function saveActiveTime(){updateActiveTime();localStorage.setItem('timezone-total-time',totalActiveTime.toString())}function formatDuration(milliseconds){const seconds=Math.floor(milliseconds/1000);const minutes=Math.floor(seconds/60);const hours=Math.floor(minutes/60);if(hours>0){return`${hours}h ${minutes%60}m`}else if(minutes>0){return`${minutes}m ${seconds%60}s`}else{return`${seconds}s`}}function updateUsageDisplay(){const pageLoads=parseInt(localStorage.getItem('timezone-page-loads')||'0');const currentSessionTime=isPageVisible?(Date.now()-visibilityStartTime):0;const displayTime=totalActiveTime+currentSessionTime;const usageElement=document.getElementById('usage-stats');if(usageElement){usageElement.textContent=`Used ${pageLoads} times â€¢ Active for ${formatDuration(displayTime)}`}}let currentTheme='dark';function toggleTheme(){const body=document.body;const themeButton=document.getElementById('theme-toggle');switch(currentTheme){case'dark':currentTheme='light';body.className='light-mode';themeButton.textContent='â˜€ï¸';break;case'light':currentTheme='blue';body.className='blue-mode';themeButton.textContent='ğŸŒ™';break;case'blue':currentTheme='dark';body.className='';themeButton.textContent='ğŸŒ›';break}}function showNotification(message,isError=false){const notification=document.getElementById('notification');notification.className='notification';notification.textContent=message;if(isError){notification.classList.add('error')}notification.classList.add('show');setTimeout(()=>{notification.classList.remove('show');notification.classList.add('hide');setTimeout(()=>{notification.classList.remove('hide')},500)},5000)}function shareToTwitter(){showNotification('ğŸ“¸ Creating screenshot...',false);const body=document.body;const container=document.querySelector('.container');const originalBodyClass=body.className;const originalContainerStyle=container.style.cssText;switch(currentTheme){case'light':body.className='light-mode';break;case'blue':body.className='blue-mode';break;case'dark':default:body.className=''}container.style.background='transparent';container.style.border='none';container.style.boxShadow='none';container.style.backdropFilter='none';container.offsetHeight;html2canvas(container,{useCORS:true,allowTaint:true,scale:2,logging:false,backgroundColor:currentTheme==='light'?'#74b9ff':currentTheme==='blue'?'#1e3c72':'#2d3436'}).then(canvas=>{body.className=originalBodyClass;container.style.cssText=originalContainerStyle;canvas.toBlob(function(blob){navigator.clipboard.write([new ClipboardItem({'image/png':blob})]).then(()=>{showNotification('âœ… Image copied to clipboard! Paste it in your tweet (Ctrl+V or Cmd+V)');const currentPDTFormatted=formatTime(currentPDTTime);const currentDate=formatDate(currentPDTTime);const tweetText=`ğŸŒ Timezone Check: ${currentPDTFormatted} PDT on ${currentDate}\n\nCheck out this timezone converter! ğŸ•\n\n#timezone #worldclock #timeconverter`;const twitterUrl=`https://x.com/compose/tweet?text=${encodeURIComponent(tweetText)}`;window.open(twitterUrl,'_blank')}).catch(err=>{showNotification('âŒ Failed to copy image to clipboard. Try the share again.',true);const currentPDTFormatted=formatTime(currentPDTTime);const currentDate=formatDate(currentPDTTime);const tweetText=`ğŸŒ Timezone Check: ${currentPDTFormatted} PDT on ${currentDate}\n\nCheck out this timezone converter! ğŸ•\n\n#timezone #worldclock #timeconverter`;const twitterUrl=`https://x.com/compose/tweet?text=${encodeURIComponent(tweetText)}`;window.open(twitterUrl,'_blank')})})}).catch(err=>{body.className=originalBodyClass;container.style.cssText=originalContainerStyle;showNotification('âŒ Screenshot failed. Please try again.',true);window.open('https://x.com/compose/tweet','_blank')})}function showHelp(){const modal=document.getElementById('help-modal');modal.style.display='flex'}function closeHelp(){const modal=document.getElementById('help-modal');modal.style.display='none'}document.addEventListener('click',function(event){const helpModal=document.getElementById('help-modal');const settingsModal=document.getElementById('settings-modal');if(event.target===helpModal){closeHelp()}if(event.target===settingsModal){closeSettings()}});document.addEventListener('keydown',function(event){if(event.key==='Escape'){closeHelp();closeSettings()}});function tryExample(queryString){closeHelp();const currentUrl=window.location.href.split('?')[0];const newUrl=currentUrl+queryString;window.location.href=newUrl}function getURLParameters(){try{const urlParams=new URLSearchParams(window.location.search);const dateParam=urlParams.get('date');const timeParam=urlParams.get('time');if(timeParam&&!dateParam){const today=new Date();const todayString=`${(today.getMonth()+1).toString().padStart(2,'0')}-${today.getDate().toString().padStart(2,'0')}-${today.getFullYear()}`;const parsed=parseDateTime(todayString,timeParam);return parsed}if(dateParam&&timeParam){const parsed=parseDateTime(dateParam,timeParam);return parsed}return null}catch(e){return null}}function parseDateTime(dateStr,timeStr){try{const datePattern=/^(\d{1,2})[-\/](\d{1,2})[-\/](\d{4})$/;const dateMatch=dateStr.match(datePattern);if(!dateMatch){return null}const month=parseInt(dateMatch[1])-1;const day=parseInt(dateMatch[2]);const year=parseInt(dateMatch[3]);const timePattern=/^(\d{1,2})(?::(\d{2}))?\s?(AM|PM)$/i;const timeMatch=timeStr.match(timePattern);if(!timeMatch){return null}let hours=parseInt(timeMatch[1]);const minutes=parseInt(timeMatch[2]||'0');const ampm=timeMatch[3].toUpperCase();if(hours<1||hours>12||minutes<0||minutes>59){return null}if(ampm==='AM'&&hours===12){hours=0}else if(ampm==='PM'&&hours!==12){hours+=12}const result=new Date(year,month,day,hours,minutes,0,0);return result}catch(e){return null}}let currentPDTTime=new Date();let isLiveMode=true;let updateInterval;function initializeTime(){const urlTime=getURLParameters();if(urlTime){currentPDTTime=new Date(urlTime);isLiveMode=false}else{currentPDTTime=new Date();isLiveMode=true;startAutoUpdate()}updateLiveIndicator()}function updateLiveIndicator(){const mainZone=document.querySelector('.main-zone');if(isLiveMode){mainZone.classList.add('live-mode')}else{mainZone.classList.remove('live-mode')}}function startAutoUpdate(){if(updateInterval)clearInterval(updateInterval);if(isLiveMode){updateInterval=setInterval(()=>{if(isLiveMode){currentPDTTime=new Date();updateAllTimes()}},60000);updateLiveIndicator()}}function stopAutoUpdate(){if(updateInterval){clearInterval(updateInterval);updateInterval=null}isLiveMode=false;updateLiveIndicator()}function formatTime(date){if(typeof date==='number'){date=new Date(date)}if(!date||typeof date!=='object'||isNaN(date.getTime())){return'12:00 AM'}let hours=date.getHours();let minutes=date.getMinutes();if(isNaN(hours)||isNaN(minutes)||hours<0||hours>23||minutes<0||minutes>59){return'12:00 AM'}let ampm=hours>=12?'PM':'AM';hours=hours%12;hours=hours?hours:12;minutes=minutes<10?'0'+minutes:minutes;const result=hours+':'+minutes+' '+ampm;return result}function formatDate(date){const days=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];const months=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];return days[date.getDay()]+', '+months[date.getMonth()]+' '+date.getDate()}function updateAllTimes(){document.getElementById('pdt-time').textContent=formatTime(currentPDTTime);document.getElementById('pdt-date').textContent=formatDate(currentPDTTime);const edtTime=new Date(currentPDTTime.getTime()+3*60*60*1000);document.getElementById('edt-time').textContent=formatTime(edtTime);document.getElementById('edt-date').textContent=formatDate(edtTime);selectedBottomCountries.forEach(code=>{const country=COUNTRIES.find(c=>c.code===code);if(!country)return;const offsetDiff=country.offset-FIXED_TIMEZONES.PDT.offset;const countryTime=new Date(currentPDTTime.getTime()+offsetDiff*60*60*1000);const timeElement=document.getElementById(`${country.code}-time`);const dateElement=document.getElementById(`${country.code}-date`);if(timeElement&&dateElement){timeElement.textContent=formatTime(countryTime);dateElement.textContent=formatDate(countryTime)}})}function editTime(element){const currentText=element.textContent;const input=document.createElement('input');input.type='text';input.className='time-input';input.value=currentText;input.placeholder='h:mm AM/PM';element.replaceWith(input);input.focus();input.select();function saveTime(){const timeValue=input.value.trim();if(validateAndSetTime(timeValue)){const newElement=document.createElement('div');newElement.className='time-display';newElement.id='pdt-time';newElement.onclick=()=>editTime(newElement);newElement.textContent=formatTime(currentPDTTime);input.replaceWith(newElement);updateAllTimes()}else{alert('Please enter time in format: h:mm AM/PM (e.g., 6:30 PM, 12:00 AM)');input.focus();input.select()}}input.addEventListener('blur',saveTime);input.addEventListener('keypress',function(e){if(e.key==='Enter'){saveTime()}if(e.key==='Escape'){const newElement=document.createElement('div');newElement.className='time-display';newElement.id='pdt-time';newElement.onclick=()=>editTime(newElement);newElement.textContent=currentText;input.replaceWith(newElement)}})}function validateAndSetTime(timeString){stopAutoUpdate();const timePattern=/^(\d{1,2}):(\d{2})\s?(AM|PM)$/i;const match=timeString.match(timePattern);if(!match)return false;let hours=parseInt(match[1]);let minutes=parseInt(match[2]);const ampm=match[3].toUpperCase();if(hours<1||hours>12||minutes<0||minutes>59){return false}if(ampm==='AM'&&hours===12){hours=0}else if(ampm==='PM'&&hours!==12){hours+=12}currentPDTTime.setHours(hours,minutes,0,0);return true}function incrementTime(){stopAutoUpdate();const currentMinutes=currentPDTTime.getMinutes();const nextFiveMinIncrement=Math.ceil(currentMinutes/5)*5;const targetMinutes=(currentMinutes%5===0)?currentMinutes+5:nextFiveMinIncrement;const newTime=new Date(currentPDTTime);newTime.setMinutes(targetMinutes);currentPDTTime=newTime;updateAllTimes()}function decrementTime(){stopAutoUpdate();const currentMinutes=currentPDTTime.getMinutes();const prevFiveMinIncrement=Math.floor(currentMinutes/5)*5;const targetMinutes=(currentMinutes%5===0)?currentMinutes-5:prevFiveMinIncrement;const newTime=new Date(currentPDTTime);newTime.setMinutes(targetMinutes);currentPDTTime=newTime;updateAllTimes()}function resetToCurrentTime(){stopAutoUpdate();currentPDTTime=new Date();isLiveMode=true;updateAllTimes();startAutoUpdate()}function initialize(){const currentYear=new Date().getFullYear();document.getElementById('current-year').textContent=currentYear;initializeUsageTracking();loadSelectedCountries();renderBottomCountries();initializeTime();updateAllTimes()}document.addEventListener('DOMContentLoaded',initialize);if(document.readyState==='loading'){}else{initialize()}</script></body></html>